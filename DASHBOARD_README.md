# Smart Router Performance Dashboard

A comprehensive web-based dashboard for visualizing and comparing the performance of baseline vs cost-aware smart routing.

## Features

- **Interactive Charts**: Visual comparison of latency, success rates, and costs
- **Real-time Data**: Automatically loads latest benchmark results
- **Responsive Design**: Works on desktop and mobile devices
- **Detailed Metrics**: Comprehensive breakdown of performance improvements
- **Provider Analysis**: Shows which providers are being used most effectively

## Quick Start

1. **Run Benchmarks** (if not already done):
   ```bash
   npm run bench:comprehensive
   ```

2. **Generate Dashboard Data**:
   ```bash
   npm run dashboard:generate
   ```

3. **Start the Dashboard**:
   ```bash
   npm run dashboard:full
   ```

4. **Open in Browser**:
   Navigate to `http://localhost:8000`

## Alternative: One-Command Setup

```bash
npm run dashboard:full
```

This will generate the dashboard data and start the web server automatically.

## Dashboard Sections

### Summary Statistics
- Total calls made
- Average latency across all tests
- Overall success rate
- Total cost incurred

### Performance Metrics
- Side-by-side comparison of baseline vs smart routing
- Interactive bar charts showing latency improvements
- Success rate comparisons

### Cost Analysis
- Cost savings visualization
- Cost per call analysis
- Doughnut charts showing cost distribution

### Provider Usage
- Which providers were used most frequently
- Performance breakdown by provider
- Cost analysis per provider

### Detailed Comparison Table
- Comprehensive metric-by-metric comparison
- Improvement percentages
- Status indicators (Better/Worse)

## Data Sources

The dashboard automatically loads data from:
1. `results/dashboard-data.json` (preferred - generated by dashboard:generate)
2. `results/results.json` (fallback)
3. `results/baseline.json` and `results/smart.json` (fallback)

## Customization

### Adding New Metrics
Edit `src/bench/generate-dashboard-data.ts` to include additional metrics in the dashboard data.

### Styling
Modify the CSS in `index.html` to customize the appearance.

### Charts
The dashboard uses Chart.js. You can add new chart types or modify existing ones in the JavaScript section.

## Troubleshooting

### "No benchmark data found"
- Run `npm run bench:comprehensive` first
- Then run `npm run dashboard:generate`

### Charts not displaying
- Check browser console for JavaScript errors
- Ensure data files are accessible via HTTP server

### Data not updating
- Regenerate dashboard data: `npm run dashboard:generate`
- Refresh the browser page

## File Structure

```
├── index.html                          # Main dashboard page
├── src/bench/generate-dashboard-data.ts # Data processing script
├── results/
│   ├── dashboard-data.json             # Processed dashboard data
│   ├── baseline.json                   # Raw baseline results
│   ├── smart.json                      # Raw smart routing results
│   └── results.json                    # Combined results
└── package.json                        # NPM scripts
```

## Technical Details

- **Frontend**: Pure HTML/CSS/JavaScript with Chart.js
- **Data Processing**: TypeScript script that processes benchmark results
- **Web Server**: Python's built-in HTTP server (port 8000)
- **Responsive**: CSS Grid and Flexbox for mobile-friendly layout